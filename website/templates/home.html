{% extends "base.html" %}

{% block title %} Homepage {% endblock %}

{% block content %}
<h1 class="text-center">Tarefas</h1>
<form method="POST">
    <textarea name="tarefa" id="tarefa" class="form-control my-3"></textarea>
    <div class="form-check">
        <input type="checkbox" name="afazer" class="form-check-input" id="afazer" value="afazer">
        <label class="form-check-label" for="afazer">A fazer</label>
    </div>
    <div class="form-check">
        <input type="checkbox" name="concluida" class="form-check-input" id="concluida" value="concluida">
        <label for="form-check-label" for="concluida">Concluída</label>
    </div>
    <div class="form-check">
        <input type="checkbox" name="nenhum" class="form-check-input" id="nenhum" value="nenhum">
        <label for="form-check-label" form="nenhum">Nenhum</label>
    </div>
    <div class="d-flex justify-content-center">
        <button type="submit" class="btn btn-primary">Adicionar Tarefa</button>
    </div>
</form>
<ul class="list-group list-group-flush" id="tarefas">
    <h2>Lista de tarefas</h2>
    <h3>filtro</h3>
    <div>
        <input type="checkbox" name="filtro-afazer" id="botao-filtro" value="afazer">
        <label for="concluida">A fazer</label>
        <input type="checkbox" name="filtro-concluido" id="botao-filtro" value="concluida">
        <label for="concluida">Concluída</label>
        <input type="checkbox" name="filtro-nenhum" id="botao-filtro" value="nenhum">
    </div>
    {% for tarefa in usuario.tarefas %}
    <div class="tarefas">
        <li>
            {{ tarefa.texto }}
            <p>Status: {{ tarefa.status}}</p> 
            <button type="button" onClick="alteraConcluido({{tarefa.id}})" id="botao">Concluída</button>
            <button type="button" onClick="alteraAfazer({{tarefa.id}})" id="botao">A fazer</button>
            <button type="button" onClick="alteraNenhum" id="botao">Nenhum</button>
            <button type="button" onClick="deleteTarefa({{ tarefa.id }})" id="botao">Excluir tarefa</button>
        </li>
    </div>
    {% else %}  
        <li>Nenhuma tarefa cadastrada.</li>
    {% endfor %}
    
</ul>

{% endblock %}